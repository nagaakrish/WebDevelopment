<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lando‑style Helmet Reveal — Demo</title>
  <style>
    :root{
      --cx: 50%;
      --cy: 50%;
      --sx: 0;
      --sy: 0;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      display:flex;align-items:center;justify-content:center;
      background:#f7f6f3;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
      -webkit-font-smoothing:antialiased;color:#111
    }

    /* stage */
    .hero{
      width:820px;max-width:95vw;height:820px;max-height:95vh;position:relative;
      display:flex;align-items:center;justify-content:center;transform-style:preserve-3d;
      perspective:1400px;
    }

    .card{
      width:520px;height:680px;border-radius:22px;overflow:visible;position:relative;
      transform-style:preserve-3d;will-change:transform;display:block;
    }

    /* background subtle outline like site */
    .bg-graphic{
      position:absolute;inset:0;pointer-events:none;z-index:0;opacity:0.9;
      background-image:radial-gradient(600px 200px at 10% 10%, rgba(0,0,0,0.03), transparent);
    }

    /* images stack */
    .face, .helmet {
      position:absolute;left:0;top:0;width:100%;height:100%;object-fit:cover;display:block;
      border-radius:16px;backface-visibility:hidden;transform-origin:center center;
    }

    /* face sits on top normally */
    .face{z-index:4;filter:contrast(1.02)}

    /* helmet beneath — we will reveal it by giving it a moving mask */
    .helmet{z-index:2;transform:translateZ(-10px);filter:drop-shadow(0 30px 40px rgba(0,0,0,0.25));}

    /* overlay shadow for depth */
    .vignette{position:absolute;inset:0;z-index:6;border-radius:16px;pointer-events:none;}

    /* the reveal mask: we will animate CSS custom properties --mx, --my to move the soft circular reveal */
    .reveal {
      position:absolute;inset:0;z-index:3;pointer-events:none;border-radius:16px;overflow:hidden;
      /* create a subtle shadowed circle to simulate the helmet cutout feather */
      mix-blend-mode:normal;
    }

    /* We'll use mask-image on the face to cut a soft hole showing the helmet beneath. */
    .face-mask {
      position:absolute;inset:0;width:100%;height:100%;
      /* default center */
      --mx:50%;--my:50%;
      /* radial gradient: center is transparent (hole) -> feather -> opaque */
      -webkit-mask-image: radial-gradient(circle at var(--mx) var(--my), rgba(0,0,0,0) 0px, rgba(0,0,0,0) 95px, rgba(0,0,0,0.20) 130px, rgba(0,0,0,0.9) 180px);
      mask-image: radial-gradient(circle at var(--mx) var(--my), rgba(0,0,0,0) 0px, rgba(0,0,0,0) 95px, rgba(0,0,0,0.20) 130px, rgba(0,0,0,0.9) 180px);
      -webkit-mask-composite: xor;mask-composite: exclude;
      pointer-events:none;
      z-index:5;
    }

    /* Subtle face dim on hover to sell the reveal */
    .card:hover .face{filter:brightness(.68) saturate(.95) blur(.6px)}

    /* small instruction text */
    .hint{position:absolute;left:18px;bottom:18px;z-index:12;background:rgba(255,255,255,0.9);padding:8px 12px;border-radius:10px;font-size:13px}

    /* responsive tweaks */
    @media (max-width:600px){
      .card{width:340px;height:460px}
    }
  </style>
</head>
<body>
  <div class="hero">
    <div class="card" id="card">
      <!-- Put the original face photo here (face.png or face.jpg) -->
      <img src="face.png" alt="face" class="face" id="faceImg">

      <!-- helmet image (transparent background preferred). Use the helmet we uploaded or rename to helmet.webp -->
      <img src="helmet.png" alt="helmet" class="helmet" id="helmetImg">

      <!-- an absolutely positioned element we update to control the mask on top of the face -->
      <div class="reveal">
        <div class="face-mask" id="faceMask"></div>
      </div>

      <div class="vignette"></div>
      <div class="hint">Move your mouse over Lando's face</div>
    </div>
  </div>

  <script>
    // Smooth pointer-following mask implementation (no external libs)
    const card = document.getElementById('card');
    const faceMask = document.getElementById('faceMask');

    // track target mouse position in percentages
    let target = {x:50, y:50};
    let current = {x:50, y:50};

    // lerp smoothing factor
    const ease = 0.12;

    function lerp(a,b,t){return a + (b-a)*t}

    // update mask custom properties
    function render(){
      current.x = lerp(current.x, target.x, ease);
      current.y = lerp(current.y, target.y, ease);
      faceMask.style.setProperty('--mx', current.x + '%');
      faceMask.style.setProperty('--my', current.y + '%');

      // rotate card slightly based on offset from center for parallax
      const rx = (current.y - 50) * 0.6; // rotateX
      const ry = (current.x - 50) * -0.6; // rotateY
      card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;

      requestAnimationFrame(render);
    }

    render();

    // compute percentage coordinates in the element
    function onMove(e){
      const rect = card.getBoundingClientRect();
      const x = (e.clientX - rect.left) / rect.width * 100;
      const y = (e.clientY - rect.top) / rect.height * 100;
      target.x = Math.max(0, Math.min(100, x));
      target.y = Math.max(0, Math.min(100, y));
    }

    function onLeave(){
      // when leaving, gracefully hide reveal by moving it off-center and reset card rotation
      target.x = 50;
      target.y = 50;
      // subtle reset
      setTimeout(()=>{card.style.transform = 'rotateX(0deg) rotateY(0deg)';}, 500);
    }

    // touch support
    card.addEventListener('mousemove', onMove);
    card.addEventListener('touchmove', (ev)=>{ev.preventDefault(); onMove(ev.touches[0])}, {passive:false});
    card.addEventListener('mouseleave', onLeave);
    card.addEventListener('touchend', onLeave);

    // accessibility: also allow keyboard (arrows) to move the reveal
    window.addEventListener('keydown', (e)=>{
      const step = 3;
      if(e.key === 'ArrowLeft') target.x = Math.max(0, target.x - step);
      if(e.key === 'ArrowRight') target.x = Math.min(100, target.x + step);
      if(e.key === 'ArrowUp') target.y = Math.max(0, target.y - step);
      if(e.key === 'ArrowDown') target.y = Math.min(100, target.y + step);
    });
  </script>

  <!--
    USAGE
    1) Put two images in the same folder as this HTML file:
       - face.png  (the portrait with Lando's face)
       - 2022LandoNorrisSignedOfficialPromoMcLarenF1Helmet_0006_2022-Lando-Norris-Signed-Official-Replica-McLaren-F1-Helm.webp
         (or rename it to helmet.webp and update the <img src=> accordingly)

    2) Open this file in your browser. Move the mouse to reveal the helmet under the face.

    NOTES & TIPS
    - For the most realistic result, use a helmet PNG with transparent background and a face photo
      with a neutral background (or crop close to the head). If you upload the helmet as PNG, update
      the <img src=> to point to helmet.png.
    - If you want the helmet shape to match perfectly (not a circular soft reveal), I can create an
      SVG mask matching the helmet silhouette and animate that instead — upload a transparent PNG
      of the helmet and I will generate the precise mask for a closer replica of landonorris.com.
  -->
</body>
</html>